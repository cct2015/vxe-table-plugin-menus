!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-menus",[],t);else if("undefined"!=typeof exports)t();else{t(),e.VXETablePluginMenus={}.default}}(this,function(){"use strict";exports.__esModule=!0;var o=require("xe-utils"),t={CLEAR_CELL:function(e){var t=e.$table,n=e.row,a=e.column;n&&a&&t.clearData(n,a.property)},CLEAR_ROW:function(e){var t=e.$table,n=e.row;n&&t.clearData(n)},CLEAR_SELECTION_ROW:function(e){var t=e.$table;t.clearData(t.getSelectRecords())},CLEAR_ALL:function(e){e.$table.clearData()},REVERT_CELL:function(e){var t=e.$table,n=e.row,a=e.column;n&&a&&t.revertData(n,a.property)},REVERT_ROW:function(e){var t=e.$table,n=e.row;n&&t.revertData(n)},REVERT_SELECTION_ROW:function(e){var t=e.$table;t.revertData(t.getSelectRecords())},REVERT_ALL:function(e){e.$table.revertData()},INSERT_ROW:function(e){var t=e.$table,n=e.menu;t.insert(n.params)},INSERT_ACTIVED_ROW:function(e){var n=e.$table,t=e.menu,a=e.column,r=t.params||[];n.insert(r[0]).then(function(e){var t=e.row;return n.setActiveCell(t,r[1]||a.property)})},INSERT_AT_ROW:function(e){var t=e.$table,n=e.menu,a=e.row;a&&t.insertAt(n.params,a)},INSERT_AT_ACTIVED_ROW:function(e){var n=e.$table,t=e.menu,a=e.row,r=e.column;if(a){var o=t.params||[];n.insertAt(o[0],a).then(function(e){var t=e.row;return n.setActiveCell(t,o[1]||r.property)})}},DELETE_ROW:function(e){var t=e.$table,n=e.row;n&&t.remove(n)},DELETE_SELECTION_ROW:function(e){e.$table.removeSelecteds()},DELETE_ALL:function(e){e.$table.remove()},CLEAR_SORT:function(e){e.$table.clearSort()},SORT_ASC:function(e,t){var n=e.$table,a=e.column;a&&n.triggerSortEvent(t,a,"asc")},SORT_DESC:function(e,t){var n=e.$table,a=e.column;a&&n.triggerSortEvent(t,a,"desc")},CLEAR_FILTER:function(e){var t=e.$table,n=e.column;n&&t.clearFilter(n.property)},CLEAR_ALL_FILTER:function(e){e.$table.clearFilter()},FILTER_CELL:function(e){var t=e.$table,n=e.row,a=e.column;if(n&&a){var r=a.property;t.filter(r).then(function(e){if(e.length){var t=e[0];t.data=o.default.get(n,r),t.checked=!0}}).then(function(){return t.updateData()})}},EXPORT_ROW:function(e){var t=e.$table,n=e.menu,a=e.row;if(a){var r={data:[a]};t.exportCsv(n.params?o.default.assign(r,n.params[0]):r)}},EXPORT_SELECTION_ROW:function(e){var t=e.$table,n=e.menu,a={data:t.getSelectRecords()};t.exportCsv(n.params?o.default.assign(a,n.params[0]):a)},EXPORT_ALL:function(e){e.$table.exportCsv()},HIDDEN_COLUMN:function(e){var t=e.$table;e.column&&t.hideColumn()},RESET_COLUMN:function(e){e.$table.resetCustoms()},RESET_RESIZABLE:function(e){e.$table.resetResizable()},RESET_ALL:function(e){e.$table.resetAll()}};function n(e,t){var n=e.code,a=t.columns,r=t.column;switch(n){case"CLEAR_SORT":e.disabled=!a.some(function(e){return e.sortable&&e.order});break;case"CLEAR_ALL_FILTER":e.disabled=!a.some(function(e){return e.filters&&e.filters.some(function(e){return e.checked})});break;case"CLEAR_CELL":case"CLEAR_ROW":case"REVERT_CELL":case"REVERT_ROW":case"INSERT_AT_ROW":case"INSERT_AT_ACTIVED_ROW":case"DELETE_ROW":case"SORT_ASC":case"SORT_DESC":case"CLEAR_FILTER":case"FILTER_CELL":case"EXPORT_ROW":case"HIDDEN_COLUMN":if(e.disabled=!r,!e.disabled)switch(n){case"SORT_ASC":case"SORT_DESC":e.disabled=!r.sortable;break;case"FILTER_CELL":case"CLEAR_FILTER":if(e.disabled=!r.filters||!r.filters.length,!e.disabled)switch(n){case"CLEAR_FILTER":e.disabled=!r.filters.some(function(e){return e.checked})}}}}function a(t){t.options.forEach(function(e){e.forEach(function(e){n(e,t),e.children&&e.children.forEach(function(e){n(e,t)})})})}exports.VXETablePluginMenus={install:function(e){e.interceptor.add("event.show_menu",a),e.menus.mixin(t)}},"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(exports.VXETablePluginMenus),exports.default=exports.VXETablePluginMenus});